.module tilemap

.include "tilemap.s"
.include "tilemapC.h"


; Define your tile data at the end of this file


_TileMapConf:


;------------------------------------------------------------------------------------
; Table for the screen position of the tiles (Left Column)
tiles_screen_positions:
.DW #tiles_inipos_visible_area+#0x50*0
.DW #tiles_inipos_visible_area+#0x50*1
.DW #tiles_inipos_visible_area+#0x50*2
.DW #tiles_inipos_visible_area+#0x50*3
.DW #tiles_inipos_visible_area+#0x50*4
.DW #tiles_inipos_visible_area+#0x50*5
.DW #tiles_inipos_visible_area+#0x50*6
.DW #tiles_inipos_visible_area+#0x50*7
.DW #tiles_inipos_visible_area+#0x50*8
.DW #tiles_inipos_visible_area+#0x50*9
.DW #tiles_inipos_visible_area+#0x50*10
.DW #tiles_inipos_visible_area+#0x50*11
.DW #tiles_inipos_visible_area+#0x50*12
.DW #tiles_inipos_visible_area+#0x50*13
.DW #tiles_inipos_visible_area+#0x50*14
.DW #tiles_inipos_visible_area+#0x50*15
.DW #tiles_inipos_visible_area+#0x50*16
.DW #tiles_inipos_visible_area+#0x50*17
.DW #tiles_inipos_visible_area+#0x50*18
.DW #tiles_inipos_visible_area+#0x50*19

;------------------------------------------------------------------------------------
; Table for the Supperbuffer position of the tiles (Left Column)
tiles_composition_buffer:			
.DW #tiles_composition_buffer_addr+8*tiles_scrwidth_bytes*0
.DW #tiles_composition_buffer_addr+8*tiles_scrwidth_bytes*1
.DW #tiles_composition_buffer_addr+8*tiles_scrwidth_bytes*2
.DW #tiles_composition_buffer_addr+8*tiles_scrwidth_bytes*3
.DW #tiles_composition_buffer_addr+8*tiles_scrwidth_bytes*4
.DW #tiles_composition_buffer_addr+8*tiles_scrwidth_bytes*5
.DW #tiles_composition_buffer_addr+8*tiles_scrwidth_bytes*6
.DW #tiles_composition_buffer_addr+8*tiles_scrwidth_bytes*7
.DW #tiles_composition_buffer_addr+8*tiles_scrwidth_bytes*8
.DW #tiles_composition_buffer_addr+8*tiles_scrwidth_bytes*9
.DW #tiles_composition_buffer_addr+8*tiles_scrwidth_bytes*10
.DW #tiles_composition_buffer_addr+8*tiles_scrwidth_bytes*11
.DW #tiles_composition_buffer_addr+8*tiles_scrwidth_bytes*12
.DW #tiles_composition_buffer_addr+8*tiles_scrwidth_bytes*13
.DW #tiles_composition_buffer_addr+8*tiles_scrwidth_bytes*14
.DW #tiles_composition_buffer_addr+8*tiles_scrwidth_bytes*15
.DW #tiles_composition_buffer_addr+8*tiles_scrwidth_bytes*16
.DW #tiles_composition_buffer_addr+8*tiles_scrwidth_bytes*17
.DW #tiles_composition_buffer_addr+8*tiles_scrwidth_bytes*18
.DW #tiles_composition_buffer_addr+8*tiles_scrwidth_bytes*19


;------------------------------------------------------------------------------------
tiles_current_screen: .DW #0
tiles_game_screen:  ;en tiles
.ds T_WIDTH*T_HEIGHT
.DB #0xFF	;Este byte es importante, marca el fin de la pantalla.
tiles_dirty:		; this table controls the tiles to be redrawn in the screen. 
.ds 150				; It requires 2bytes per tile
;------------------------------------------------------------------------------------
tiles_screen_widths:	; table for internal use to make faster calculations
.dw #tiles_game_screen + #0
.dw #tiles_game_screen + #1*T_WIDTH
.dw #tiles_game_screen + #2*T_WIDTH
.dw #tiles_game_screen + #3*T_WIDTH
.dw #tiles_game_screen + #4*T_WIDTH
.dw #tiles_game_screen + #5*T_WIDTH
.dw #tiles_game_screen + #6*T_WIDTH
.dw #tiles_game_screen + #7*T_WIDTH
.dw #tiles_game_screen + #8*T_WIDTH
.dw #tiles_game_screen + #9*T_WIDTH
.dw #tiles_game_screen + #10*T_WIDTH
.dw #tiles_game_screen + #11*T_WIDTH
.dw #tiles_game_screen + #12*T_WIDTH
.dw #tiles_game_screen + #13*T_WIDTH
.dw #tiles_game_screen + #14*T_WIDTH
.dw #tiles_game_screen + #15*T_WIDTH
.dw #tiles_game_screen + #16*T_WIDTH
.dw #tiles_game_screen + #17*T_WIDTH
.dw #tiles_game_screen + #18*T_WIDTH
.dw #tiles_game_screen + #19*T_WIDTH


;------------------------------------------------------------------------------------
; TILE DATA. TILES MUST BE DEFINED HERE!
;------------------------------------------------------------------------------------


cpc_tiles: ;Son de 2x8 bytes
; subb000,
.db #0xAB,#0x03
.db #0x03,#0x0C
.db #0x06,#0x5D
.db #0x06,#0xFF
.db #0x06,#0xFF
.db #0x06,#0xFF
.db #0x06,#0xFF
.db #0x06,#0xFF
; subb001,
.db #0x03,#0x57
.db #0x0C,#0x03
.db #0xAE,#0x09
.db #0xFF,#0x09
.db #0xFF,#0x09
.db #0xFF,#0x09
.db #0xFF,#0x09
.db #0xFF,#0x09
; subb002,
.db #0x06,#0xFF
.db #0x06,#0xFF
.db #0x06,#0xFF
.db #0x06,#0xFF
.db #0x06,#0xFF
.db #0x06,#0x5D
.db #0x03,#0x0C
.db #0xAB,#0x03
; subb003,
.db #0xFF,#0x09
.db #0xFF,#0x09
.db #0xFF,#0x09
.db #0xFF,#0x09
.db #0xFF,#0x09
.db #0xAE,#0x09
.db #0x0C,#0x03
.db #0x03,#0x57
; subb004,
.db #0xAB,#0x57
.db #0x06,#0x09
.db #0x06,#0x09
.db #0x06,#0x09
.db #0x06,#0x09
.db #0x06,#0x09
.db #0x06,#0x09
.db #0xAB,#0x57
; subb005,
.db #0xAB,#0x03
.db #0x03,#0x0C
.db #0x06,#0xFF
.db #0x06,#0xFF
.db #0x06,#0xFF
.db #0x06,#0xFF
.db #0x03,#0x0C
.db #0xAB,#0x03
; subb006,
.db #0x03,#0x57
.db #0x0C,#0x03
.db #0xFF,#0x09
.db #0xFF,#0x09
.db #0xFF,#0x09
.db #0xFF,#0x09
.db #0x0C,#0x03
.db #0x03,#0x57
; subb007,
.db #0xAB,#0x57
.db #0x03,#0x03
.db #0x57,#0xAB
.db #0x57,#0xAB
.db #0x57,#0xAB
.db #0x57,#0xAB
.db #0x57,#0xAB
.db #0x57,#0xAB
; subb008,
.db #0x57,#0xAB
.db #0x57,#0xAB
.db #0x57,#0xAB
.db #0x57,#0xAB
.db #0x57,#0xAB
.db #0x57,#0xAB
.db #0x03,#0x03
.db #0xAB,#0x57
; subb009,
.db #0x03,#0x03
.db #0x0C,#0x0C
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0x0C,#0x0C
.db #0x03,#0x03
; subb010,
.db #0x57,#0xAB
.db #0x57,#0xAB
.db #0x57,#0xAB
.db #0x57,#0xAB
.db #0x57,#0xAB
.db #0x57,#0xAB
.db #0x57,#0xAB
.db #0x57,#0xAB
; subb011,
.db #0x03,#0x03
.db #0x03,#0x03
.db #0xAB,#0x03
.db #0xAB,#0x03
.db #0xFF,#0x03
.db #0xFF,#0x03
.db #0xFF,#0xAB
.db #0xFF,#0xAB
; subb012,
.db #0x03,#0x03
.db #0x03,#0x03
.db #0x03,#0x57
.db #0x03,#0x57
.db #0x03,#0xFF
.db #0x03,#0xFF
.db #0x57,#0xFF
.db #0x57,#0xFF
; subb013,
.db #0x03,#0x03
.db #0x03,#0x03
.db #0xAB,#0xAB
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
; subb014,
.db #0x03,#0x03
.db #0x03,#0x03
.db #0xAB,#0xAB
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
; subb015,
.db #0x03,#0x03
.db #0x03,#0x03
.db #0xAB,#0xAB
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
; subb016,
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
; subb017,
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
; subb018,
.db #0x03,#0x03
.db #0x03,#0x03
.db #0xAB,#0xAB
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
; subb019,
.db #0x03,#0x03
.db #0x03,#0x03
.db #0xAB,#0xAB
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
; subb020,
.db #0x03,#0x03
.db #0x03,#0x03
.db #0xAB,#0xAB
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
; subb021,
.db #0x03,#0x03
.db #0x03,#0x03
.db #0xAB,#0xAB
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
; subb022,
.db #0x03,#0x03
.db #0x03,#0x03
.db #0xAB,#0xAB
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
; subb023,
.db #0x03,#0x03
.db #0x03,#0x03
.db #0xAB,#0xAB
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
; subb024,
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
; subb025,
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
; subb026,
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
; subb027,
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
; subb028,
.db #0x03,#0x03
.db #0x03,#0x03
.db #0xAB,#0xAB
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
; subb029,
.db #0x03,#0x03
.db #0x03,#0x03
.db #0xAB,#0xAB
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
; subb030,
.db #0x03,#0x03
.db #0x03,#0x03
.db #0xAB,#0xAB
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
; subb031,
.db #0x03,#0x03
.db #0x03,#0x03
.db #0xAB,#0xAB
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
; subb032,
.db #0x30,#0xFF
.db #0x30,#0x30
.db #0x30,#0x30
.db #0x30,#0xFF
.db #0x30,#0xFF
.db #0x30,#0x30
.db #0x30,#0x30
.db #0x30,#0xFF
; subb033,
.db #0xFF,#0x30
.db #0x30,#0x30
.db #0x30,#0x30
.db #0xFF,#0x30
.db #0xFF,#0x30
.db #0x30,#0x30
.db #0x30,#0x30
.db #0xFF,#0x30
; subb034,
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
; subb035,
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
; subb036,
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
; subb037,
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
; subb038,
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
; subb039,
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
; subb040,
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
; subb041,
.db #0x3F,#0x3F
.db #0x3F,#0xBF
.db #0x3F,#0xFF
.db #0x7F,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
; subb042,
.db #0x3F,#0x3F
.db #0x7F,#0x3F
.db #0xFF,#0x7F
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
.db #0xFF,#0xFF
; subb043,
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
.db #0x3F,#0x3F
; subb044
.db #0xBD,#0x3F
.db #0xBD,#0x3F
.db #0xBD,#0x3F
.db #0xBD,#0x3F
.db #0xFC,#0x3F
.db #0xFC,#0x3F
.db #0xFC,#0x3F
.db #0xFC,#0x3F
; subb045
.db #0x3F,#0x7E
.db #0x3F,#0x7E
.db #0x3F,#0x7E
.db #0x3F,#0x7E
.db #0x3F,#0xFC
.db #0x3F,#0xFC
.db #0x3F,#0xFC
.db #0x3F,#0xFC
; subb046
.db #0xFC,#0xBD
.db #0xFC,#0xBD
.db #0xFC,#0xBD
.db #0xFC,#0xBD
.db #0xFC,#0xFC
.db #0xFC,#0xFC
.db #0xFC,#0xFC
.db #0xFC,#0xFC
; subb047
.db #0x7E,#0xFC
.db #0x7E,#0xFC
.db #0x7E,#0xFC
.db #0x7E,#0xFC
.db #0xFC,#0xFC
.db #0xFC,#0xFC
.db #0xFC,#0xFC
.db #0xFC,#0xFC
; subb048
.db #0xFC,#0xFC
.db #0xFC,#0xFC
.db #0xFC,#0xFC
.db #0xFC,#0xFC
.db #0xFC,#0xFC
.db #0xFC,#0xFC
.db #0xFC,#0xFC
.db #0xFC,#0xFC
; subb049
.db #0xF0,#0xF0
.db #0xF0,#0xF0
.db #0xF0,#0xF0
.db #0xF0,#0xF0
.db #0xF0,#0xF0
.db #0xF0,#0xF0
.db #0xF0,#0xF0
.db #0xF0,#0xF0
; subb050

.db #0xF8,#0xF0
.db #0xF0,#0xF0
.db #0xA5,#0xA5
.db #0xF0,#0x5A
.db #0x5A,#0xF0
.db #0xA5,#0xA5
.db #0xF0,#0x5A
.db #0x5A,#0xF0

.db #0xF0,#0xF4
.db #0xF0,#0xF0
.db #0x5A,#0x5A
.db #0xA5,#0xF0
.db #0xF0,#0xA5
.db #0x5A,#0x5A
.db #0xA5,#0xF0
.db #0xF0,#0xA5


.db #0x5A,#0xF0
.db #0xF0,#0xF0
.db #0x5A,#0x5A
.db #0xA5,#0xA5
.db #0x00,#0xF4
.db #0x00,#0x5E
.db #0x00,#0xF4
.db #0xF0,#0xF4


.db #0xF0,#0xA5
.db #0xF0,#0xF0
.db #0xA5,#0xA5
.db #0x5A,#0x5A
.db #0xF8,#0x00
.db #0xAD,#0x00
.db #0xF8,#0x00
.db #0xF8,#0xF0